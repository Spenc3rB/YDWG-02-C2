<!doctype html><html><head><title>YDWG Serial</title><link rel=stylesheet href="y.css"><meta name=viewport content="width=device-width, initial-scale=1"><script src="ui.js"></script><script type="text/javascript">

function setSerial(e) {
	e.preventDefault();

    hideWarning();
	var serial = $("#newsn").value.trim();
	var pwd = $("#pwd").value.trim();
	if(!serial.match(/^\d{8}$/)){
		showWarning("Serial must contain only 8 digits");
		return;
	}

	ajaxReq("POST", "/serial/setserial?serial=" + serial + "&pwd=" + pwd, function (resp) {
		showNotification("Serial was successfully updated");
		setTimeout(getVersion(),300);
	});
}
</script></head><body><div id=layout><div id=main><div class=header><div><img src="yachtd.png" height=62></div><h1 style="margin-top:0"><span class=esp>YDWG</span></h1></div></div><div class=content><div class=pure-g><div class="pure-u-1 pure-u-md-1-1"><div class=card><h1>Update Serial</h1><form action="#" id=sn-form class=pure-form><p>Current serial: <span style="font-weight: bold;" id=sn></span></p><div class=pure-form-stacked><label>SN:</label><input type=text name=newsn id=newsn /><label>Pwd:</label><input type=text name=pwd id=pwd /></div><button id=sn-button type=submit class="pure-button button-primary"> Update </button></form></div></div></div></div></div><script type="text/javascript">
onLoad(function() {
  getVersion();
  bnd($("#sn-form"), "submit", setSerial);
});
</script></body></html>